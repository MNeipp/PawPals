{% extends 'adopt/base3.html' %}

{% block content %}

<nav class="navbar navbar-expand-lg navbar-light bg-info">
    <a class="nav-link" href="#"></a>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item dropdown" note="append">
                <select name="distance" class="custom-select" id="distance" form="dog-form">
                    <option selected="" value="">Distance</option>
                    <option value="5">5 miles from</option>
                    <option value="10">10 miles from</option>
                    <option value="25">25 miles from</option>
                    <option value="50">50 miles from</option>
                    <option value="100">100 miles from</option>
                </select>
              </li>
            <li class="nav-item form-group col-4">
                <input type="text" placeholder="Zip Code" class="form-control" name="location" form="dog-form">
            </li>
        </ul>
    </div>
    <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav mr-auto">
        </ul>
        <div class="navbar-nav ml-auto">
            <ul class="navbar-nav">
                <li class="nav-item dropdown show" note="append class .show">
                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="true">Sort By</a>
                    <div class="dropdown-menu" style="">
                    <a class="dropdown-item" href="#">Newest</a>
                    <a class="dropdown-item" href="#">Oldest</a>
                    <a class="dropdown-item" href="#">Distance</a>
                </li>
            </ul>
            <a class="nav-link" href="#"></a>
            <a class="nav-link" href="#"></a>
            <a class="nav-link" href="#"></a>
            <a class="nav-link" href="#"></a>
        </div>
    </div>
</nav>

<div class="container-fluid border">
    <div class="row">
        <div class="col-3 border">
            <div class="container">
                <br>
                <h4 class="text-center">Filter Your Search</h4>
                <br>
                <form action="{% url 'query' %}" method="POST" id="dog-form">
                    {% csrf_token %}
                    <div class="form-group">  
                        <p>BREED</p>
                        <select class="custom-select" name="breed" id="breed">
                            <option value="">Pick a Breed</option>
                            {% for breed in breeds.breeds.dog %}
                            <option value="{{breed}}">{{breed}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <p>SIZE</p>
                        <select class="custom-select" name="size">
                            <option selected="" value=''>Any</option>
                            <option value="small">Small</option>
                            <option value="medium">Medium</option>
                            <option value="large">Large</option>
                            <option value="xlarge">Extra Large</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <p>AGE</p>
                        <select class="custom-select" name="age">
                            <option value=''>Any</option>
                            <option value="baby">Puppy</option>
                            <option value="young">Adolescent</option>
                            <option value="adult">Adult</option>
                            <option value="senior">Senior</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <p>GENDER</p>
                        <select name="gender" class="custom-select">
                            <option value=''>Any</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <p>GETS ALONG WITH</p>
                        <select name="gets_along" class="custom-select">
                            <option value=''>Any</option>
                            <option value="good_with_kids=True">Kids</option>
                            <option value="good_with_dogs=True">Dogs</option>
                            <option value="good_with_cats=True">Cats</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <p>DAYS ON PAWPALS</p>
                        <select name="days" class="custom-select">
                            <option selected="">Any</option>
                            <option value="1">1</option>
                            <option value="7">7</option>
                            <option value="14">14</option>
                            <option value="30>">30+</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <p>PET NAME</p>
                        <input type="text" placeholder="ex. Spot" class="form-control" name="pet_name">
                    </div>
                    <div class="form-group">
                        <p>SHELTER or RESCUE</p>
                        <input type="text" placeholder="ex. NKLA" class="form-control" name="shelter_name">
                    </div>
                    <div class="text-center">
                        <input type="submit" value="SEARCH" class="btn btn-info">
                    </div>
                </form>
            </div>
        </div>
        <div class="col-9 border">
            <br>
                <h4 class="text-center">{{dogs | length}} Dogs Found</h4>
                <br>
            <div class="container">

                <div class="row">
                {% for dog in dogs %}
                    <div class="col-sm-4 mb-2">
                        <div class="card text-center">
                            <img class="card-img-top" src="{{dog.photos.0.medium}}" alt="Card image cap">
                            <div class="card-body">
                                <h5 class="card-title">{{dog.name|upper}}</h5>
                                <p class="card-text">{{dog.age}} | {{dog.breeds.primary}}</p>
                                <p class="card-text">{{dog.contact.address.city}}</p>
                                <a href="{% url 'pet_detail' dog.id %}" class="btn btn-primary">Meet {{dog.name|upper}}</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
                </div>

            </div>
        </div>
    </div>
    
</div>



{% endblock %}